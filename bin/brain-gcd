#!/usr/bin/env php
<?php

require __DIR__ . '/../vendor/autoload.php';

use function cli\line;
use function cli\prompt;

function startGcd()
{
    line('Welcome to the Brain Game!');
    $name = prompt('May I have your name?');
    line("Hello, %s!", $name);
    $firstQuestion = 'Find the greatest common divisor of given numbers.';
    line($firstQuestion);

    for ($i = 0; $i < 3; $i++) {

        $firstNum = rand(1, 100);
        $secondNum = rand(1, 100);

        $answer = prompt("Question: {$firstNum} {$secondNum}");
        line("Your answer: %s", $answer);

        while ($firstNum != $secondNum)
            if ($firstNum > $secondNum) {
                $rightAnswer = $firstNum -= $secondNum;
            } else {
                $rightAnswer = $secondNum -= $firstNum;
            }


        if ($answer == $rightAnswer) {
            line('Correct!');
        } else {
            line("'{$answer}' is wrong answer ;(. Correct answer was '{$rightAnswer}'.\nLet's try again, {$name}!");
            break;
        }

        if ($i === 2) {
            line("Congratulations, {$name}!");
        }
    }
}

print_r(startGcd());